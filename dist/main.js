(()=>{const e={milan:{lat:"45.464203",long:"9.189982",name:"Milan",photo:"../assets/milan.jpg"},london:{lat:"51.507351",long:"-0.127758",name:"London",photo:"../assets/london.jpg"},bangkok:{lat:"13.756331",long:"100.501762",name:"Bangkok",photo:"../assets/bangkok.jpg"},"los-angeles":{lat:"34.052235",long:"-118.243683",name:"Los Angeles",photo:"../assets/los_angeles.jpg"},tokyo:{lat:"35.689487",long:"139.691711",name:"Tokyo",photo:"../assets/tokyo.jpg"}},t={0:"Clear sky",1:"Partly cloudy",2:"Partly cloudy",3:"Partly cloudy",45:"Fog",48:"Fog",51:"Drizzle",53:"Drizzle",55:"Drizzle",56:"Freezing Drizzle",57:"Freezing Drizzle",61:"Rain",63:"Rain",65:"Rain",66:"Freezing Rain",67:"Freezing Rain",71:"Snow fall",73:"Snow fall",75:"Snow fall",77:"Snow grains",80:"Rain showers",81:"Rain showers",82:"Rain showers",85:"Snow showers",86:"Snow showers",95:"Thunderstorm",96:"Heavy thunderstorm",99:"Heavy thunderstorm"};function n(e){let n="";return n=t[e],n}Object.keys(e).forEach((t=>{!function(e,t){let o;const r=new XMLHttpRequest;r.open("GET",`https://api.open-meteo.com/v1/forecast?latitude=${t.lat}&longitude=${t.long}&daily=weathercode&daily=temperature_2m_max,temperature_2m_min&current_weather=true&timezone=Europe%2FBerlin&forecast_days=14`),r.onload=function(){o=JSON.parse(r.response),function(e,t){console.log(e);const o=function(e){let t=[];for(i=0;i<e.time.length;i++){const o={time:e.time[i],weatherCode:n(e.weathercode[i]),min:parseInt(e.temperature_2m_min[i]),max:parseInt(e.temperature_2m_max[i])};t.push(o)}return t}(e.daily);let r=document.querySelector(`#${t}`);r.querySelector(".forecast").innerHTML+=`${o[0].weatherCode}`,r.querySelector(".temperature").innerHTML+=`${parseInt(e.current_weather.temperature)}Â°`,r.querySelector(".min").innerHTML+=`${o[0].min}`,r.querySelector(".max").innerHTML+=`${o[0].max}`;let a=r.querySelectorAll(".day");console.log(a),a.forEach(((e,t)=>{e.innerHTML+=`${o[t].min}/${o[t].max}`}))}(o,e)},r.send()}(t,e[t])})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".slider"),t=document.querySelectorAll(".slide"),n=document.querySelector(".prev-button"),o=document.querySelector(".next-button"),r=document.querySelector(".pagination");let a=0;function i(){e.style.transform=`translateX(-${100*a}%)`}function l(){r.innerHTML="",t.forEach(((e,t)=>{const n=document.createElement("div");n.classList.add("pagination-button"),t===a&&n.classList.add("active"),n.addEventListener("click",(()=>{a=t,i(),s(),l()})),r.appendChild(n)}))}function s(){n.style.visibility=0===a?"hidden":"visible",o.style.visibility=a===t.length-1?"hidden":"visible"}n.addEventListener("click",(function(){a>0&&(a--,i(),s(),l())})),o.addEventListener("click",(function(){a<t.length-1&&(a++,i(),s(),l())}));let c=0,u=0;e.addEventListener("touchstart",(function(e){c=e.touches[0].clientX})),e.addEventListener("touchend",(function(e){u=e.changedTouches[0].clientX,c-u>50?a<t.length-1&&(a++,i(),s(),l()):u-c>50&&a>0&&(a--,i(),s(),l())})),s(),l()}))})();