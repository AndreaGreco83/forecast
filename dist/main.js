(()=>{const e={milan:{lat:"45.464203",long:"9.189982",name:"Milan"},london:{lat:"51.507351",long:"-0.127758",name:"London"},bangkok:{lat:"13.756331",long:"100.501762",name:"Bangkok"},"los-angeles":{lat:"34.052235",long:"-118.243683",name:"Los Angeles"},tokyo:{lat:"35.689487",long:"139.691711",name:"Tokyo"}},n={0:"Clear sky",1:"Partly cloudy",2:"Partly cloudy",3:"Partly cloudy",45:"Fog",48:"Fog",51:"Drizzle",53:"Drizzle",55:"Drizzle",56:"Freezing Drizzle",57:"Freezing Drizzle",61:"Rain",63:"Rain",65:"Rain",66:"Freezing Rain",67:"Freezing Rain",71:"Snow fall",73:"Snow fall",75:"Snow fall",77:"Snow grains",80:"Rain showers",81:"Rain showers",82:"Rain showers",85:"Snow showers",86:"Snow showers",95:"Thunderstorm",96:"Heavy thunderstorm",99:"Heavy thunderstorm"};function t(e){let t="";return t=n[e],t}Object.keys(e).forEach((n=>{!function(e,n){let o;const r=new XMLHttpRequest;r.open("GET",`https://api.open-meteo.com/v1/forecast?latitude=${n.lat}&longitude=${n.long}&daily=weathercode&daily=temperature_2m_max,temperature_2m_min&current_weather=true&timezone=Europe%2FBerlin&forecast_days=14`),r.onload=function(){200===r.status?(o=JSON.parse(r.response),function(e,n){console.log(e);const o=function(e){let n=[];for(i=0;i<e.time.length;i++){const o={time:e.time[i],weatherCode:t(e.weathercode[i]),min:parseInt(e.temperature_2m_min[i]),max:parseInt(e.temperature_2m_max[i])};n.push(o)}return n}(e.daily);let r=document.querySelector(`#${n}`);r.querySelector(".forecast").innerHTML+=`${o[0].weatherCode}`,r.querySelector(".temperature").innerHTML+=`${parseInt(e.current_weather.temperature)}°`,r.querySelector(".min").innerHTML+=`${o[0].min}°`,r.querySelector(".max").innerHTML+=`${o[0].max}°`,r.querySelectorAll(".day").forEach(((e,n)=>{e.innerHTML+=`${o[n].min}°/${o[n].max}°`}))}(o,e)):console.error("Failed to fetch Meteo informations")},r.send()}(n,e[n])})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".slider"),n=document.querySelectorAll(".slide"),t=document.querySelector(".prev-button"),o=document.querySelector(".next-button"),r=document.querySelector(".pagination");let i=0;function a(){e.style.transform=`translateX(-${100*i}%)`}function l(){r.innerHTML="",n.forEach(((e,n)=>{const t=document.createElement("div");t.classList.add("pagination-button"),n===i&&t.classList.add("active"),t.addEventListener("click",(()=>{i=n,a(),c(),l()})),r.appendChild(t)}))}function c(){t.style.visibility=0===i?"hidden":"visible",o.style.visibility=i===n.length-1?"hidden":"visible"}t.addEventListener("click",(function(){i>0&&(i--,a(),c(),l())})),o.addEventListener("click",(function(){i<n.length-1&&(i++,a(),c(),l())}));let s=0,u=0;e.addEventListener("touchstart",(function(e){s=e.touches[0].clientX})),e.addEventListener("touchend",(function(e){u=e.changedTouches[0].clientX,s-u>50?i<n.length-1&&(i++,a(),c(),l()):u-s>50&&i>0&&(i--,a(),c(),l())})),c(),l()}))})();